"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2233],{2233:(t,s,a)=>{a.r(s),a.d(s,{default:()=>i});var e=a(9669),r=a.n(e);const l={data:function(){return{isLoading:!1,sampleFileurl:this.$baseUrl+"/sample-file/products.csv",instructionsFileurl:this.$baseUrl+"/sample-file/products.txt",file:null}},computed:{isSellerRoute:function(){return this.$route.path.startsWith("/seller/")}},created:function(){},mounted:function(){},methods:{handleFileUpload:function(){this.file=this.$refs.file_csv.files[0]},downloadProductDataExcel:function(){var t=this;r()({url:this.$apiUrl+"/products/download_product_data_excel",method:"get",responseType:"blob"}).then((function(s){t.isLoadingDownload=!1;var a=window.URL.createObjectURL(new Blob([s.data])),e=document.createElement("a");e.href=a,e.setAttribute("download","products_data.csv"),document.body.appendChild(e),e.click(),e.parentNode.removeChild(e)})).catch((function(s){s.request.statusText?t.showError(s.request.statusText):s.message?t.showError(s.message):t.showError("Something went wrong!"),t.isLoading=!1}))},saveRecord:function(){var t=this,s=this;this.isLoading=!0;var a=new FormData;a.append("file",this.file);var e=this.$apiUrl+"/products/bulk_upload";r().post(e,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){var e=a.data;1===e.status?(t.showMessage("success",e.message),t.$refs.file_csv.value=null,t.file=null,s.isLoading=!1):(s.showError(e.message),s.isLoading=!1)})).catch((function(a){s.isLoading=!1,a.request.statusText?t.showError(a.request.statusText):a.message?t.showError(a.message):t.showError("Something went wrong!")}))}}};const i=(0,a(1900).Z)(l,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"page-heading"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 order-md-1 order-last"},[a("h3",[t._v(t._s(t.__("bulk_upload")))])]),t._v(" "),a("div",{staticClass:"col-12 col-md-6 order-md-2 order-first"},[a("nav",{staticClass:"breadcrumb-header float-start float-lg-end",attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},[t.isSellerRoute?a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/seller/dashboard"}},[t._v(t._s(t.__("dashboard")))])],1):a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/dashboard"}},[t._v(t._s(t.__("dashboard")))])],1),t._v(" "),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("\n                            "+t._s(t.__("bulk_upload"))+"\n                        ")])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12 order-md-1 order-last"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h4",[t._v(t._s(t.__("product_bulk_upload_form")))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"alert alert-info"},[a("p",[t._v(t._s(t.__("always_download_and_use_new_sample_file_if_you_did_updated_admin_panel_version")))]),t._v(" "),a("p",[t._v(t._s(t.__("read_and_follow_instructions_carefully_before_proceed")))])]),t._v(" "),a("div",{staticClass:"row"},[a("form",{ref:"my-form",attrs:{method:"post",enctype:"multipart/form-data"},on:{submit:function(s){return s.preventDefault(),t.saveRecord.apply(null,arguments)}}},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"upload_file"}},[t._v(t._s(t.__("csv_file")))]),t._v(" "),a("input",{ref:"file_csv",staticClass:"form-control",attrs:{type:"file",name:"upload_file",id:"upload_file",required:"",accept:".csv"},on:{change:t.handleFileUpload}})])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"submit_btn",name:"btnAdd",disabled:t.isLoading}},[t.isLoading?t._e():a("i",{staticClass:"fa fa-upload"}),t._v(" "+t._s(t.__("upload"))+"\n                                        "),t.isLoading?a("b-spinner",{attrs:{small:"",label:"Spinning"}}):t._e()],1),t._v(" "),a("button",{staticClass:"btn btn btn-secondary",attrs:{type:"reset"}},[a("i",{staticClass:"fa fa-undo",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.__("clear"))+"\n                                    ")]),t._v(" "),a("a",{staticClass:"btn btn-info",attrs:{href:t.sampleFileurl,download:"products.csv"}},[a("em",{staticClass:"fa fa-download"}),t._v("\n                                        "+t._s(t.__("download_sample_file")))]),t._v(" "),a("a",{staticClass:"btn btn-warning",attrs:{href:t.instructionsFileurl,download:""}},[a("em",{staticClass:"fa fa-download"}),t._v("\n                                        "+t._s(t.__("download_instructions")))])])])])])])])])])])}),[],!1,null,null,null).exports}}]);