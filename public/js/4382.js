"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4382],{4382:(t,s,e)=>{e.r(s),e.d(s,{default:()=>n});var i=e(9669),a=e.n(i);const o={data:function(){return{isLoading:!1,sms_settings:{sms_method_settings:0,twilio_method:0,twilio_sid:"",twilio_auth_token:"",twilio_phone_number:""},record:null}},created:function(){this.getSmsMethods()},methods:{getSmsMethods:function(){var t=this;a().get(this.$apiUrl+"/sms_settings").then((function(s){var e,i,a;s.data.data&&(t.record=s.data.data,t.sms_settings.twilio_method=null!==(e=t.record.twilio_method)&&void 0!==e?e:0,t.sms_settings.twilio_sid=null!==(i=t.record.twilio_sid)&&void 0!==i?i:"",t.sms_settings.twilio_auth_token=t.record.twilio_auth_token,t.sms_settings.twilio_phone_number=null!==(a=t.record.twilio_phone_number)&&void 0!==a?a:"")}))},saveRecord:function(){var t=this;this.isLoading=!0;var s=this.sms_settings,e=new FormData;for(var i in s)0==s[i]?e.append(i,0):1==s[i]?e.append(i,1):e.append(i,s[i]);var o=this;if(1==this.sms_settings.twilio_method){var n=this.$apiUrl+"/sms_settings/save";a().post(n,e).then((function(s){var e=s.data;1===e.status?(t.showMessage("success",e.message),setTimeout((function(){o.$swal.close(),o.getSmsMethods(),o.$router.push({path:"/sms-settings"}),o.isLoading=!1}),100)):(o.showError(e.message),o.isLoading=!1)})).catch((function(s){s.request.statusText?t.showError(s.request.statusText):s.message?t.showError(s.message):t.showError(__("something_went_wrong")),o.isLoading=!1}))}else this.showMessage("error","At lease one sms method is should enable"),o.isLoading=!1}}};const n=(0,e(1900).Z)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"page-heading"},[e("div",{staticClass:"page-title"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6 order-md-1 order-last"},[e("h3",[t._v(t._s(t.__("sms_gateways_methods_settings")))])]),t._v(" "),e("div",{staticClass:"col-12 col-md-6 order-md-2 order-first"},[e("nav",{staticClass:"breadcrumb-header float-start float-lg-end",attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/dashboard"}},[t._v(t._s(t.__("dashboard")))])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.__("sms_gateways_methods_settings")))])])])])])]),t._v(" "),e("section",{staticClass:"section"},[e("form",{attrs:{id:"sms_method_settings_form",method:"post",enctype:"multipart/form-data"},on:{submit:function(s){return s.preventDefault(),t.saveRecord.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 mb-4"},[e("div",{staticClass:"card h-100"},[e("div",{staticClass:"card-header"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.__("twilio")))])]),t._v(" "),e("div",{staticClass:"card-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_settings.sms_method_settings,expression:"sms_settings.sms_method_settings"}],attrs:{type:"hidden",id:"sms_method_settings",name:"sms_method_settings",required:"",value:"1","aria-required":"true"},domProps:{value:t.sms_settings.sms_method_settings},on:{input:function(s){s.target.composing||t.$set(t.sms_settings,"sms_method_settings",s.target.value)}}}),t._v(" "),e("div",{},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"twilio_method"}},[t._v(t._s(t.__("twilio"))+" "),e("small",[t._v("[ "+t._s(t.__("enable"))+" / "+t._s(t.__("disable"))+" ] ")])]),e("br"),t._v(" "),e("div",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_settings.twilio_method,expression:"sms_settings.twilio_method"}],staticClass:"form-check-input",attrs:{id:"sms_settings",type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:t.sms_settings.twilio_method,checked:Array.isArray(t.sms_settings.twilio_method)?t._i(t.sms_settings.twilio_method,null)>-1:t._q(t.sms_settings.twilio_method,"1")},on:{change:function(s){var e=t.sms_settings.twilio_method,i=s.target,a=i.checked?"1":"0";if(Array.isArray(e)){var o=t._i(e,null);i.checked?o<0&&t.$set(t.sms_settings,"twilio_method",e.concat([null])):o>-1&&t.$set(t.sms_settings,"twilio_method",e.slice(0,o).concat(e.slice(o+1)))}else t.$set(t.sms_settings,"twilio_method",a)}}})])]),t._v(" "),1==t.sms_settings.twilio_method?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"twilio_sid"}},[t._v(t._s(t.__("twilio_sid"))),e("span",{staticClass:"text-danger text-xs"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_settings.twilio_sid,expression:"sms_settings.twilio_sid"}],staticClass:"form-control",attrs:{type:"text",name:"twilio_sid",id:"twilio_sid",placeholder:"Enter twilio sid."},domProps:{value:t.sms_settings.twilio_sid},on:{input:function(s){s.target.composing||t.$set(t.sms_settings,"twilio_sid",s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"twilio_auth_token"}},[t._v(t._s(t.__("twilio_auth_token"))),e("span",{staticClass:"text-danger text-xs"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_settings.twilio_auth_token,expression:"sms_settings.twilio_auth_token"}],staticClass:"form-control",attrs:{type:"text",name:"authDomain",id:"authDomain",placeholder:"Enter twilio auth token."},domProps:{value:t.sms_settings.twilio_auth_token},on:{input:function(s){s.target.composing||t.$set(t.sms_settings,"twilio_auth_token",s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"twilio_phone_number"}},[t._v(t._s(t.__("twilio_phone_number"))),e("span",{staticClass:"text-danger text-xs"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_settings.twilio_phone_number,expression:"sms_settings.twilio_phone_number"}],staticClass:"form-control",attrs:{type:"text",name:"twilio_phone_number",id:"twilio_phone_number",placeholder:"Enter twilio phone number."},domProps:{value:t.sms_settings.twilio_phone_number},on:{input:function(s){s.target.composing||t.$set(t.sms_settings,"twilio_phone_number",s.target.value)}}})])])]):t._e()])])])]),t._v(" "),e("div",{staticClass:"form-group"},[t.$can("manage_payment_methods")?e("b-button",{attrs:{type:"submit",id:"btn_update",variant:"primary",disabled:t.isLoading}},[t._v(" "+t._s(t.__("update"))+"\n                            "),t.isLoading?e("b-spinner",{attrs:{small:"",label:"Spinning"}}):t._e()],1):t._e()],1)])])])])])}),[],!1,null,null,null).exports}}]);